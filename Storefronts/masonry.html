<!-- Masonry -->
 <section class="row">
    <div class="col-12">
        <div class="vc-wrapper">
            <section class="masonry">
                <!-- Product 1 -->
                <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-01.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
                <!-- Product 2 -->
                <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-02.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
                <!-- Product 3 -->
                <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-03.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
                <!-- Product-4 -->
                <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-04.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
                <!-- Product 5 -->
                <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-05.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
                <!-- Product 6 -->
                <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-06.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
                <!-- Product 7 -->
                <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-07.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
                <!-- Product 8 -->
                <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-08.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
                <!-- Product 9 -->
                <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-09.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
                <!-- Product 10 -->
                <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-10.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
                <!-- Product 11 -->
                <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-11.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
                 <!-- Product 12 -->
                 <div class="masonry-brick">
                    <div class="masonry-content">
                        <img src="../wwwroot/img/square/vc-12.jpg" alt="">
                        <div class="d-flex justify-content-between">
                            <span class="store-brand font-weight-normal">Blancheporte</span>
                            <div class="storefrontWishIcon">
                                <button class="border-0 rounded-circle bg-white "><i class="far fa-heart FS-30vh"></i></button>
                            </div>
                        </div>
                        <p class="store-description text-truncate mb-1">Champú y suavizante nutriente revitalizador aceite</p> 
                        <div class="store-prices">
                            <span class="FS-15vh text-muted pr-1">desde</span>
                            <span class="FS-17vh storeFrontsPreviousPrice"><s>29,98€</s></span>
                            <span class="font-weight-bold text-danger storeFrontsFinalPrice">14,99€</span>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</section>
<!-- Images Loaded -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>

<script>
     function resizeMasonryItem(item) {
        /* Get the grid object, its row-gap, and the size of its implicit rows */
            let grid = document.getElementsByClassName('masonry')[0],
                rowGap = parseInt(window.getComputedStyle(grid).getPropertyValue('grid-row-gap')),
                rowHeight = parseInt(window.getComputedStyle(grid).getPropertyValue('grid-auto-rows'));
    
            let rowSpan = Math.ceil((item.querySelector('.masonry-content').getBoundingClientRect().height+rowGap)/(rowHeight+rowGap));
            
            /* Set the spanning as calculated above (S) */
            item.style.gridRowEnd = 'span '+rowSpan;
        }

        function resizeAllMasonryItems() {
            /* Get all item class objects in one list */
            let allItems = document.getElementsByClassName('masonry-brick');

            /* Loop through the above list and execute the spanning function to each list-item (i.e. each masonry item) */
            for(let i=0;i>allItems.length;i++){
                resizeMasonryItem(allItems[i]);
            }
        }

        /* Resize the items when all the images inside the masonry grid  finish loading. This will ensure that all the content inside our masonry items is visible. */
        function waitForImages() {
            let allItems = document.getElementsByClassName('masonry-brick');
            for(let i=0; i<allItems.length; i++) {
                imagesLoaded( allItems[i], function(instance) {
                let item = instance.elements[0];
                resizeMasonryItem(item);
                } );
            }
        }

        /* Resize all the grid items on the load and resize events */
        let masonryEvents = ['load', 'resize'];
        masonryEvents.forEach( function(event) {
            window.addEventListener(event, resizeAllMasonryItems);
        } );

        /* Do a resize once more when all the images finish loading */
        waitForImages();
        
        /* Reload window when window is resized */
        window.addEventListener('resize', function(){
            location.reload()
        })


        const masonry = document.querySelector('.masonry');
        const masonryBricks = document.querySelectorAll('.masonry-brick');

        oneColumn.addEventListener('click', function() {
            masonry.style.display = "block";
            masonryBricks.forEach(function(brick) {
                brick.style.marginBottom = "20px";
            })      
            resizeAllMasonryItems();   
        })

        let twoColumns = document.querySelector('#productTwo')
        twoColumns.addEventListener('click', function() {          
            masonry.style.display = "grid";
            masonryBricks.forEach(function(brick) {
                brick.style.marginBottom = "0";
            })      
            resizeAllMasonryItems();   
        })


</script>